# 使用数据框处理数据

在数据分析任务中最常见的原始数据格式表格数据，它们通常是这样的：
（此处插入一个数据表）

这是一个二维数据，我们分别从行列去观察。每列数据结构一般一样，列和列之间经常不同。每行往往代表一个个体的具体数据值，有可能有ID也有可能需要我们赋予一个ID以示区别。

我们经常需要找到某个（或者﻿某些）ID的某个（﻿某些﻿）字段或者属性，NumPy的索引对此不太直接支持。﻿我们还经常需要以列为单位对数据进行处理计算，因此我们可能希望取出来做一些计算再放回表里去，而计算过程我们又需要NumPy的特性。

Pandas则提供了一种叫做DataFrame的数据结构来处理这类表格数据。它可以对行列索引，也可以把某一列以一种叫做Series的形式取出操作，并且还可以使用NumPy的函数和运算符做计算。

以上面的数据为例，我们来尝试做一个简单的线性回归分析。这里我们需要使用iPython的交互式环境，不过更推荐使用Jupyter Notebook方便记录分析过程。

我们需要做的分析是

（此处插入一个线性回归的公式。）

我们来观察数据，XX这一列是我们需要的Y，XX是我们需要的X1，XX这一列是字符串，我们需要先处理成数字。

我们首先把数据读入：

```python
df = pd.read_csv
df
```

然后我们单独取出观察一下我们需要处理的字段长什么样子

```python
df[0, 'xx']
```

我们需要XXX，因此我们




好了，我们需要的格式大体已经有了，我们使用statsmodels这个统计模型库的线性回归分析函数来生成一张分析表。它的传参方式可以是XXX的（官方﻿文档补充，按df形式传入）

```python
import statsmodels as sm
sm.linear_regression(df)
```

生成的表格结果如下：

（此处附上计算结果）

我们可以得到XXX结论。

我们看到，在Pandas的帮助下，我们对表格数据常用的操作都可以以很直观很简单的方式被表达。这就是Pandas的主要使用场景。

对于SQL用户，Pandas吸收了很多SQL的优点，让SQL能做的事情以更简单直观地方式，开发者很快就可以适应。Pandas也提供了SQL接口，方便熟悉SQL的开发者直接用SQL命令操作。

对于Stata、R、SAS等同类软件用户，Pandas提供了和同类软件相似的数据结构和各种函数或者对象方法，已有使用经验的开发者可以对应原有知识迁移。
